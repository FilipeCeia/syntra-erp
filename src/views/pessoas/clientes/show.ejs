<%
// Título da página
const pageTitle = 'Detalhes do Cliente - SYNTRA ERP';
%>
<style>
  .info-card {
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    border-radius: 10px;
    padding: 20px;
    margin-bottom: 20px;
  }
  .section-card {
    background-color: #ffffff;
    border: 1px solid #dee2e6;
    border-radius: 8px;
    padding: 20px;
    margin-bottom: 20px;
    box-shadow: 0 2px 4px rgba(0,0,0,0.1);
  }
  .section-title {
    color: #495057;
    font-weight: 600;
    margin-bottom: 15px;
    padding-bottom: 8px;
    border-bottom: 2px solid #dee2e6;
  }
  .stat-card {
    background-color: #ffffff;
    border: 1px solid #dee2e6;
    border-radius: 8px;
    padding: 15px;
    margin-bottom: 15px;
    text-align: center;
    transition: transform 0.2s;
  }
  .stat-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 8px rgba(0,0,0,0.15);
  }
  .stat-value {
    font-size: 1.5rem;
    font-weight: bold;
    color: #007bff;
  }
  .stat-label {
    font-size: 0.875rem;
    color: #6c757d;
    margin-top: 5px;
  }
  .data-row {
    border-bottom: 1px solid #f8f9fa;
    padding: 8px 0;
  }
  .data-row:last-child {
    border-bottom: none;
  }
  .data-label {
    font-weight: 600;
    color: #495057;
  }
  .data-value {
    color: #6c757d;
  }
  .historico-item {
    border-left: 3px solid #007bff;
    padding-left: 15px;
    margin-bottom: 15px;
    background-color: #f8f9fa;
    padding: 10px 15px;
    border-radius: 0 6px 6px 0;
  }
  .venda-item {
    border: 1px solid #dee2e6;
    border-radius: 6px;
    padding: 15px;
    margin-bottom: 10px;
    transition: all 0.2s;
  }
  .venda-item:hover {
    background-color: #f8f9fa;
    border-color: #007bff;
  }
  .status-badge {
    font-size: 0.75rem;
    padding: 4px 8px;
    border-radius: 12px;
  }
  .status-activo {
    background-color: #d1edff;
    color: #0c5460;
  }
  .status-inactivo {
    background-color: #f8d7da;
    color: #721c24;
  }
  .status-bloqueado {
    background-color: #fff3cd;
    color: #856404;
  }
  .financial-alert {
    background-color: #fff3cd;
    border: 1px solid #ffeaa7;
    border-radius: 6px;
    padding: 10px;
    margin-top: 10px;
  }
  .financial-alert.danger {
    background-color: #f8d7da;
    border-color: #f5c6cb;
  }
  .financial-alert.success {
    background-color: #d1edff;
    border-color: #bee5eb;
  }
  .quick-action {
    border: 1px solid #dee2e6;
    border-radius: 6px;
    padding: 15px;
    margin-bottom: 10px;
    text-decoration: none;
    color: inherit;
    display: block;
    transition: all 0.2s;
  }
  .quick-action:hover {
    background-color: #f8f9fa;
    border-color: #007bff;
    text-decoration: none;
    color: inherit;
  }
  .audit-info {
    background-color: #f8f9fa;
    border: 1px solid #dee2e6;
    border-radius: 6px;
    padding: 10px;
    font-size: 0.875rem;
    color: #6c757d;
  }
  .timeline-item {
    position: relative;
    padding-left: 30px;
    margin-bottom: 20px;
  }
  .timeline-item::before {
    content: '';
    position: absolute;
    left: 8px;
    top: 0;
    bottom: -20px;
    width: 2px;
    background-color: #dee2e6;
  }
  .timeline-item::after {
    content: '';
    position: absolute;
    left: 4px;
    top: 6px;
    width: 10px;
    height: 10px;
    border-radius: 50%;
    background-color: #007bff;
  }
  .timeline-item:last-child::before {
    display: none;
  }
  .chart-container {
    position: relative;
    height: 300px;
    margin-bottom: 20px;
  }
</style>
</style>

<div class="container-fluid">
  <!-- Header -->
  <div class="d-flex justify-content-between align-items-center mb-4">
    <div>
      <h1 class="h3 mb-0 text-gray-800">Detalhes do Cliente</h1>
      <p class="mb-0 text-muted">Código: <strong>CLI001</strong></p>
    </div>
    <div>
      <a href="/pessoas/clientes" class="btn btn-outline-secondary me-2">
        <i class="fas fa-arrow-left"></i> Voltar
      </a>
      <a href="/pessoas/clientes/1/edit" class="btn btn-outline-warning me-2">
        <i class="fas fa-edit"></i> Editar
      </a>
      <div class="btn-group me-2">
        <button type="button" class="btn btn-outline-primary dropdown-toggle" data-bs-toggle="dropdown">
          <i class="fas fa-download"></i> Exportar
        </button>
        <ul class="dropdown-menu">
          <li><a class="dropdown-item" href="#" onclick="exportarPDF()"><i class="fas fa-file-pdf"></i> PDF</a></li>
          <li><a class="dropdown-item" href="#" onclick="exportarExcel()"><i class="fas fa-file-excel"></i> Excel</a></li>
          <li><a class="dropdown-item" href="#" onclick="exportarCSV()"><i class="fas fa-file-csv"></i> CSV</a></li>
        </ul>
      </div>
      <div class="btn-group">
        <button type="button" class="btn btn-primary dropdown-toggle" data-bs-toggle="dropdown">
          <i class="fas fa-plus"></i> Nova Transacção
        </button>
        <ul class="dropdown-menu">
          <li><a class="dropdown-item" href="/vendas/facturas/create?cliente_id=1"><i class="fas fa-file-invoice"></i> Nova Factura</a></li>
          <li><a class="dropdown-item" href="/vendas/cotacoes/create?cliente_id=1"><i class="fas fa-file-alt"></i> Nova Cotação</a></li>
          <li><a class="dropdown-item" href="/vendas/proformas/create?cliente_id=1"><i class="fas fa-file-contract"></i> Nova Proforma</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item" href="/financas/recibos/create?cliente_id=1"><i class="fas fa-receipt"></i> Novo Recibo</a></li>
        </ul>
      </div>
    </div>
  </div>

  <div class="row">
    <!-- Coluna Principal -->
    <div class="col-lg-8">
      <!-- Informações do Cliente -->
      <div class="info-card">
        <div class="row align-items-center">
          <div class="col-md-8">
            <h3 class="mb-1">João Silva Santos</h3>
            <p class="mb-2 opacity-75">
              <i class="fas fa-user"></i> Particular • 
              <i class="fas fa-calendar"></i> Cliente desde 15/01/2024
            </p>
            <div class="d-flex align-items-center">
              <span class="status-badge status-activo me-2">ACTIVO</span>
              <span class="opacity-75">Última venda: 28/11/2024</span>
            </div>
          </div>
          <div class="col-md-4 text-end">
            <div class="mb-2">
              <div class="h4 mb-0">285,450.00 MT</div>
              <small class="opacity-75">Volume Total de Vendas</small>
            </div>
            <div>
              <div class="h5 mb-0 text-warning">15,750.00 MT</div>
              <small class="opacity-75">Saldo Devedor</small>
            </div>
          </div>
        </div>
      </div>

      <!-- Dados Básicos -->
      <div class="section-card">
        <h5 class="section-title"><i class="fas fa-user"></i> Dados Básicos</h5>
        
        <div class="row">
          <div class="col-md-6">
            <div class="data-row">
              <div class="data-label">Nome/Razão Social</div>
              <div class="data-value">João Silva Santos</div>
            </div>
            <div class="data-row">
              <div class="data-label">Código do Cliente</div>
              <div class="data-value">CLI001</div>
            </div>
            <div class="data-row">
              <div class="data-label">Tipo</div>
              <div class="data-value"><i class="fas fa-user"></i> Particular</div>
            </div>
            <div class="data-row">
              <div class="data-label">Telefone</div>
              <div class="data-value">+258 84 123 4567</div>
            </div>
            <div class="data-row">
              <div class="data-label">Email</div>
              <div class="data-value">joao.silva@email.com</div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="data-row">
              <div class="data-label">NUIT</div>
              <div class="data-value">-</div>
            </div>
            <div class="data-row">
              <div class="data-label">Regime Tributário</div>
              <div class="data-value">Geral</div>
            </div>
            <div class="data-row">
              <div class="data-label">Estado</div>
              <div class="data-value"><span class="status-badge status-activo">ACTIVO</span></div>
            </div>
            <div class="data-row">
              <div class="data-label">Data de Nascimento</div>
              <div class="data-value">15/03/1985</div>
            </div>
            <div class="data-row">
              <div class="data-label">Profissão</div>
              <div class="data-value">Comerciante</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Endereço -->
      <div class="section-card">
        <h5 class="section-title"><i class="fas fa-map-marker-alt"></i> Endereço</h5>
        
        <div class="row">
          <div class="col-md-8">
            <div class="data-row">
              <div class="data-label">Endereço Completo</div>
              <div class="data-value">Av. Julius Nyerere, 1234, Maputo</div>
            </div>
          </div>
          <div class="col-md-4">
            <div class="data-row">
              <div class="data-label">Cidade</div>
              <div class="data-value">Maputo</div>
            </div>
            <div class="data-row">
              <div class="data-label">Província</div>
              <div class="data-value">Maputo Cidade</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Condições Comerciais -->
      <div class="section-card">
        <h5 class="section-title"><i class="fas fa-handshake"></i> Condições Comerciais</h5>
        
        <div class="row">
          <div class="col-md-6">
            <div class="data-row">
              <div class="data-label">Limite de Crédito</div>
              <div class="data-value">50,000.00 MT</div>
            </div>
            <div class="data-row">
              <div class="data-label">Limite Utilizado</div>
              <div class="data-value">15,750.00 MT (31.5%)</div>
            </div>
            <div class="data-row">
              <div class="data-label">Limite Disponível</div>
              <div class="data-value">34,250.00 MT</div>
            </div>
          </div>
          <div class="col-md-6">
            <div class="data-row">
              <div class="data-label">Condições de Pagamento</div>
              <div class="data-value">30 Dias</div>
            </div>
            <div class="data-row">
              <div class="data-label">Desconto Padrão</div>
              <div class="data-value">5.00%</div>
            </div>
            <div class="data-row">
              <div class="data-label">Vendedor Responsável</div>
              <div class="data-value">João Silva</div>
            </div>
          </div>
        </div>
        
        <div class="financial-alert">
          <i class="fas fa-exclamation-triangle"></i> 
          Cliente utilizou 31.5% do limite de crédito
        </div>
      </div>

      <!-- Histórico de Vendas -->
      <div class="section-card">
        <h5 class="section-title"><i class="fas fa-shopping-cart"></i> Histórico de Vendas (Últimas 5)</h5>
        
        <div class="venda-item">
          <div class="d-flex justify-content-between align-items-start">
            <div>
              <strong>FAC2024001234</strong>
              <div class="small text-muted">Factura • 28/11/2024</div>
              <div class="small">Produtos: Produto A, Produto B, Produto C</div>
            </div>
            <div class="text-end">
              <div class="h6 mb-0 text-success">8,500.00 MT</div>
              <div class="small text-muted">Pago</div>
            </div>
          </div>
        </div>
        
        <div class="venda-item">
          <div class="d-flex justify-content-between align-items-start">
            <div>
              <strong>FAC2024001198</strong>
              <div class="small text-muted">Factura • 15/11/2024</div>
              <div class="small">Produtos: Produto D, Produto E</div>
            </div>
            <div class="text-end">
              <div class="h6 mb-0 text-warning">7,250.00 MT</div>
              <div class="small text-muted">Pendente</div>
            </div>
          </div>
        </div>
        
        <div class="venda-item">
          <div class="d-flex justify-content-between align-items-start">
            <div>
              <strong>FAC2024001156</strong>
              <div class="small text-muted">Factura • 02/11/2024</div>
              <div class="small">Produtos: Produto F</div>
            </div>
            <div class="text-end">
              <div class="h6 mb-0 text-success">3,200.00 MT</div>
              <div class="small text-muted">Pago</div>
            </div>
          </div>
        </div>
        
        <div class="venda-item">
          <div class="d-flex justify-content-between align-items-start">
            <div>
              <strong>FAC2024001089</strong>
              <div class="small text-muted">Factura • 18/10/2024</div>
              <div class="small">Produtos: Produto G, Produto H</div>
            </div>
            <div class="text-end">
              <div class="h6 mb-0 text-success">12,750.00 MT</div>
              <div class="small text-muted">Pago</div>
            </div>
          </div>
        </div>
        
        <div class="venda-item">
          <div class="d-flex justify-content-between align-items-start">
            <div>
              <strong>FAC2024000987</strong>
              <div class="small text-muted">Factura • 05/10/2024</div>
              <div class="small">Produtos: Produto I</div>
            </div>
            <div class="text-end">
              <div class="h6 mb-0 text-success">5,890.00 MT</div>
              <div class="small text-muted">Pago</div>
            </div>
          </div>
        </div>
        
        <div class="text-center mt-3">
          <a href="/vendas/facturas?cliente_id=1" class="btn btn-outline-primary">
            <i class="fas fa-eye"></i> Ver Todas as Vendas
          </a>
        </div>
      </div>

      <!-- Histórico de Alterações -->
      <div class="section-card">
        <h5 class="section-title"><i class="fas fa-history"></i> Histórico de Alterações</h5>
        
        <div class="timeline-item">
          <div class="d-flex justify-content-between align-items-start">
            <div>
              <strong>Limite de crédito alterado</strong>
              <div class="small text-muted">De 30,000.00 MT para 50,000.00 MT</div>
            </div>
            <div class="text-end">
              <div class="small text-muted">28/11/2024 14:30</div>
              <div class="small">Por: Admin</div>
            </div>
          </div>
        </div>
        
        <div class="timeline-item">
          <div class="d-flex justify-content-between align-items-start">
            <div>
              <strong>Email actualizado</strong>
              <div class="small text-muted">joao.santos@email.com → joao.silva@email.com</div>
            </div>
            <div class="text-end">
              <div class="small text-muted">15/11/2024 09:15</div>
              <div class="small">Por: Vendedor1</div>
            </div>
          </div>
        </div>
        
        <div class="timeline-item">
          <div class="d-flex justify-content-between align-items-start">
            <div>
              <strong>Desconto padrão alterado</strong>
              <div class="small text-muted">De 3.00% para 5.00%</div>
            </div>
            <div class="text-end">
              <div class="small text-muted">01/11/2024 16:45</div>
              <div class="small">Por: Vendedor1</div>
            </div>
          </div>
        </div>
        
        <div class="timeline-item">
          <div class="d-flex justify-content-between align-items-start">
            <div>
              <strong>Cliente criado</strong>
              <div class="small text-muted">Registo inicial do cliente</div>
            </div>
            <div class="text-end">
              <div class="small text-muted">15/01/2024 10:00</div>
              <div class="small">Por: Admin</div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Coluna Lateral -->
    <div class="col-lg-4">
      <!-- Estatísticas -->
      <div class="section-card">
        <h5 class="section-title"><i class="fas fa-chart-bar"></i> Estatísticas</h5>
        
        <div class="row">
          <div class="col-6">
            <div class="stat-card">
              <div class="stat-value">47</div>
              <div class="stat-label">Total Vendas</div>
            </div>
          </div>
          <div class="col-6">
            <div class="stat-card">
              <div class="stat-value">285,450</div>
              <div class="stat-label">Volume (MT)</div>
            </div>
          </div>
          <div class="col-6">
            <div class="stat-card">
              <div class="stat-value">15,750</div>
              <div class="stat-label">Saldo Devedor</div>
            </div>
          </div>
          <div class="col-6">
            <div class="stat-card">
              <div class="stat-value">28 dias</div>
              <div class="stat-label">Prazo Médio</div>
            </div>
          </div>
          <div class="col-6">
            <div class="stat-card">
              <div class="stat-value">6,073</div>
              <div class="stat-label">Ticket Médio</div>
            </div>
          </div>
          <div class="col-6">
            <div class="stat-card">
              <div class="stat-value">95%</div>
              <div class="stat-label">Taxa Pagamento</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Gráfico de Vendas -->
      <div class="section-card">
        <h5 class="section-title"><i class="fas fa-chart-line"></i> Vendas dos Últimos 6 Meses</h5>
        
        <div class="chart-container">
          <canvas id="vendasChart"></canvas>
        </div>
      </div>

      <!-- Informações Financeiras -->
      <div class="section-card">
        <h5 class="section-title"><i class="fas fa-money-bill-wave"></i> Informações Financeiras</h5>
        
        <div class="data-row">
          <div class="data-label">Saldo Actual</div>
          <div class="data-value text-danger"><strong>15,750.00 MT</strong> (Devedor)</div>
        </div>
        
        <div class="data-row">
          <div class="data-label">Limite Disponível</div>
          <div class="data-value text-success"><strong>34,250.00 MT</strong></div>
        </div>
        
        <div class="data-row">
          <div class="data-label">Última Factura</div>
          <div class="data-value">
            <strong>FAC2024001234</strong><br>
            28/11/2024 • 8,500.00 MT
          </div>
        </div>
        
        <div class="data-row">
          <div class="data-label">Próximo Vencimento</div>
          <div class="data-value text-warning">
            <i class="fas fa-clock"></i> 05/12/2024<br>
            Valor: 7,250.00 MT
          </div>
        </div>
        
        <div class="financial-alert danger mt-3">
          <i class="fas fa-exclamation-triangle"></i> 
          <strong>Atenção:</strong> Cliente tem facturas em atraso
        </div>
      </div>

      <!-- Acções Rápidas -->
      <div class="section-card">
        <h5 class="section-title"><i class="fas fa-bolt"></i> Acções Rápidas</h5>
        
        <a href="/vendas/facturas/create?cliente_id=1" class="quick-action">
          <div class="d-flex align-items-center">
            <div class="me-3">
              <i class="fas fa-file-invoice fa-2x text-primary"></i>
            </div>
            <div>
              <strong>Nova Factura</strong>
              <div class="small text-muted">Criar nova factura para este cliente</div>
            </div>
          </div>
        </a>
        
        <a href="/vendas/cotacoes/create?cliente_id=1" class="quick-action">
          <div class="d-flex align-items-center">
            <div class="me-3">
              <i class="fas fa-file-alt fa-2x text-info"></i>
            </div>
            <div>
              <strong>Nova Cotação</strong>
              <div class="small text-muted">Criar cotação de preços</div>
            </div>
          </div>
        </a>
        
        <a href="/financas/recibos/create?cliente_id=1" class="quick-action">
          <div class="d-flex align-items-center">
            <div class="me-3">
              <i class="fas fa-receipt fa-2x text-success"></i>
            </div>
            <div>
              <strong>Novo Recibo</strong>
              <div class="small text-muted">Registar pagamento</div>
            </div>
          </div>
        </a>
        
        <a href="/financas/contas-receber?cliente_id=1" class="quick-action">
          <div class="d-flex align-items-center">
            <div class="me-3">
              <i class="fas fa-money-bill fa-2x text-warning"></i>
            </div>
            <div>
              <strong>Contas a Receber</strong>
              <div class="small text-muted">Ver facturas pendentes</div>
            </div>
          </div>
        </a>
        
        <a href="/relatorios/cliente/1" class="quick-action">
          <div class="d-flex align-items-center">
            <div class="me-3">
              <i class="fas fa-chart-bar fa-2x text-secondary"></i>
            </div>
            <div>
              <strong>Relatório Detalhado</strong>
              <div class="small text-muted">Análise completa do cliente</div>
            </div>
          </div>
        </a>
      </div>

      <!-- Observações -->
      <div class="section-card">
        <h5 class="section-title"><i class="fas fa-sticky-note"></i> Observações</h5>
        
        <div class="data-value">
          Cliente preferencial com histórico de pagamentos pontuais. Recomenda-se manter o limite de crédito actual.
        </div>
      </div>

      <!-- Informações de Auditoria -->
      <div class="audit-info">
        <h6><i class="fas fa-shield-alt"></i> Auditoria</h6>
        <div class="small">
          <strong>Criado:</strong> 15/01/2024 10:00 por Admin<br>
          <strong>Última alteração:</strong> 28/11/2024 14:30 por Admin<br>
          <strong>Total de alterações:</strong> 8<br>
          <strong>Última visualização:</strong> Agora
        </div>
      </div>
    </div>
  </div>
</div>

<script>
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<script>
// Inicialização
$(document).ready(function() {
  // Inicializar gráfico de vendas
  inicializarGraficoVendas();
  
  // Actualizar estatísticas dinamicamente
  actualizarEstatisticas();
});

// Inicializar gráfico de vendas
function inicializarGraficoVendas() {
  const ctx = document.getElementById('vendasChart').getContext('2d');
  
  new Chart(ctx, {
    type: 'line',
    data: {
      labels: ['Jun', 'Jul', 'Ago', 'Set', 'Out', 'Nov'],
      datasets: [{
        label: 'Vendas (MT)',
        data: [45000, 52000, 38000, 61000, 48000, 67000],
        borderColor: '#007bff',
        backgroundColor: 'rgba(0, 123, 255, 0.1)',
        borderWidth: 2,
        fill: true,
        tension: 0.4
      }]
    },
    options: {
      responsive: true,
      maintainAspectRatio: false,
      plugins: {
        legend: {
          display: false
        }
      },
      scales: {
        y: {
          beginAtZero: true,
          ticks: {
            callback: function(value) {
              return value.toLocaleString('pt-MZ') + ' MT';
            }
          }
        }
      },
      elements: {
        point: {
          radius: 4,
          hoverRadius: 6
        }
      }
    }
  });
}

// Actualizar estatísticas
function actualizarEstatisticas() {
  // Simular carregamento de dados em tempo real
  // Em produção, isto seria uma chamada AJAX
  
  setTimeout(function() {
    // Actualizar valores se necessário
    console.log('Estatísticas actualizadas');
  }, 1000);
}

// Exportar para PDF
function exportarPDF() {
  const clienteId = 1;
  
  // Mostrar loading
  const btn = event.target;
  const originalText = btn.innerHTML;
  btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Gerando...';
  btn.disabled = true;
  
  // Simular geração de PDF
  setTimeout(function() {
    // Em produção, isto seria uma chamada para o servidor
    window.open('/api/pessoas/clientes/' + clienteId + '/export/pdf', '_blank');
    
    // Restaurar botão
    btn.innerHTML = originalText;
    btn.disabled = false;
  }, 2000);
}

// Exportar para Excel
function exportarExcel() {
  const clienteId = 1;
  
  // Mostrar loading
  const btn = event.target;
  const originalText = btn.innerHTML;
  btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Gerando...';
  btn.disabled = true;
  
  // Simular geração de Excel
  setTimeout(function() {
    // Em produção, isto seria uma chamada para o servidor
    window.open('/api/pessoas/clientes/' + clienteId + '/export/excel', '_blank');
    
    // Restaurar botão
    btn.innerHTML = originalText;
    btn.disabled = false;
  }, 2000);
}

// Exportar para CSV
function exportarCSV() {
  const clienteId = 1;
  
  // Mostrar loading
  const btn = event.target;
  const originalText = btn.innerHTML;
  btn.innerHTML = '<i class="fas fa-spinner fa-spin"></i> Gerando...';
  btn.disabled = true;
  
  // Simular geração de CSV
  setTimeout(function() {
    // Em produção, isto seria uma chamada para o servidor
    window.open('/api/pessoas/clientes/' + clienteId + '/export/csv', '_blank');
    
    // Restaurar botão
    btn.innerHTML = originalText;
    btn.disabled = false;
  }, 2000);
}

// Navegação entre clientes
function navegarCliente(direcao) {
  const clienteId = 1; // ID actual
  let novoId;
  
  if (direcao === 'anterior') {
    novoId = clienteId - 1;
  } else {
    novoId = clienteId + 1;
  }
  
  if (novoId > 0) {
    window.location.href = '/pessoas/clientes/' + novoId;
  }
}

// Atalhos de teclado
$(document).keydown(function(e) {
  // Ctrl + E = Editar
  if (e.ctrlKey && e.keyCode === 69) {
    e.preventDefault();
    window.location.href = '/pessoas/clientes/1/edit';
  }
  
  // Ctrl + N = Nova Factura
  if (e.ctrlKey && e.keyCode === 78) {
    e.preventDefault();
    window.location.href = '/vendas/facturas/create?cliente_id=1';
  }
  
  // Seta esquerda = Cliente anterior
  if (e.keyCode === 37 && e.altKey) {
    e.preventDefault();
    navegarCliente('anterior');
  }
  
  // Seta direita = Próximo cliente
  if (e.keyCode === 39 && e.altKey) {
    e.preventDefault();
    navegarCliente('proximo');
  }
});

// Tooltip para atalhos
$(function () {
  $('[data-bs-toggle="tooltip"]').tooltip();
});
</script>
</script>